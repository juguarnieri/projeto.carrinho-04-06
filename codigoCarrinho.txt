#define pinMotor1A 2 // Pino do Motor 1A
#define pinMotor1B 3 // Pino do Motor 1B
#define pinMotor2A 5 // Pino do Motor 2A
#define pinMotor2B 4 // Pino do Motor 2B
#define pinBtRx 7 // Pino Rx do módulo Bluetooth
#define pinBtTx 8 // Pino Tx do módulo Bluetooth

// Biblioteca para comunicação com módulo Bluetooth
#include <SoftwareSerial.h> 
SoftwareSerial bluetooth(pinBtRx, pinBtTx); // Cria uma instância de SoftwareSerial

void setup() {
  // Configura o estado das portas do Arduino como saídas para controlar os motores
  pinMode(pinMotor1A, OUTPUT);
  pinMode(pinMotor1B, OUTPUT);
  pinMode(pinMotor2A, OUTPUT);
  pinMode(pinMotor2B, OUTPUT);

  // Configura os pinos adicionais como saídas e define-os como LOW
  digitalWrite(13, LOW);
  digitalWrite(2, LOW);
  digitalWrite(3, LOW);

  // Inicia a comunicação serial para monitorar o que está acontecendo pelo monitor serial
  Serial.begin(9600);

  // Inicia a comunicação serial com o módulo Bluetooth
  bluetooth.begin(9600);
}

void loop() {
  // Variável para armazenar o dado recebido via Bluetooth
  char recebido;

  // Verifica se há dados disponíveis no módulo Bluetooth
  if (bluetooth.available()) {
    recebido = bluetooth.read(); // Lê o dado recebido via Bluetooth
    Serial.write(recebido); // Envia o dado recebido para o monitor serial
    Serial.println("- "); // Adiciona uma nova linha para facilitar a leitura no monitor serial
  }

       if (recebido == 'F') {   // MOVIMENTO PARA FRENTE 
     
       digitalWrite(pinMotor1A, LOW);
       digitalWrite(pinMotor1B, HIGH);
       digitalWrite(pinMotor2A, LOW);
       digitalWrite(pinMotor2B, HIGH);
    }

     else if (recebido == 'B') {   // MOVIMENTO PARA TRÁS (RÉ)
     
       digitalWrite(pinMotor1A, HIGH);
       digitalWrite(pinMotor1B, LOW);
       digitalWrite(pinMotor2A, HIGH);
       digitalWrite(pinMotor2B, LOW);

     }else if (recebido == 'L') {   // MOVIMENTO PARA ESQUERDA
     
       digitalWrite(pinMotor1A, LOW);
       digitalWrite(pinMotor1B, LOW);
       digitalWrite(pinMotor2A, HIGH);
       digitalWrite(pinMotor2B, LOW);

     }  else if (recebido == 'R') {   // MOVIMENTO PARA DIREITA 
     
       digitalWrite(pinMotor1A, HIGH);
       digitalWrite(pinMotor1B, LOW);
       digitalWrite(pinMotor2A, LOW);
       digitalWrite(pinMotor2B, LOW);
    
    } 

    else if (recebido == 'S') {   // PARADO
     
       digitalWrite(pinMotor1A, LOW);
       digitalWrite(pinMotor1B, LOW);
       digitalWrite(pinMotor2A, LOW);
       digitalWrite(pinMotor2B, LOW);
    
    } 
    
}